<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"
             xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI"
             xmlns:activiti="http://activiti.org/bpmn"
             xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC"
             xmlns:tns="http://www.activiti.org/test"
             xmlns:xsd="http://www.w3.org/2001/XMLSchema"
             xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             expressionLanguage="http://www.w3.org/1999/XPath"
             id="m1523608460316"
             name=""
             targetNamespace="http://www.activiti.org/test"
             typeLanguage="http://www.w3.org/2001/XMLSchema">
   <process xmlns="" id="myProcess" isClosed="false" isExecutable="true" name="My process"
            processType="None">
      <startEvent id="startevent1" name="Start"/>
      <endEvent id="endevent1" name="End"/>
      <userTask activiti:assignee="${sender}" activiti:exclusive="true" id="usertask2"
                name="下发人"/>
      <sequenceFlow id="flow6" sourceRef="startevent1" targetRef="usertask2"/>
      <userTask activiti:exclusive="true" id="usertask5" name="审核员">
         <extensionElements>
            <activiti:taskListener class="com.uhope.hzz.admin.controller.document.DocumentTask" event="create"/>
         </extensionElements>
      </userTask>
      <sequenceFlow id="flow12" sourceRef="usertask2" targetRef="usertask5"/>
      <exclusiveGateway gatewayDirection="Unspecified" id="exclusivegateway1" name="Exclusive Gateway"/>
      <sequenceFlow id="flow13" sourceRef="usertask5" targetRef="exclusivegateway1"/>
      <sequenceFlow id="flow14" name="审核驳回" sourceRef="exclusivegateway1" targetRef="usertask2">
         <conditionExpression xsi:type="tFormalExpression">${reviewflag=='0'}</conditionExpression>
      </sequenceFlow>
      <subProcess activiti:exclusive="true" id="subprocess1" name="子流程" triggeredByEvent="false">
         <multiInstanceLoopCharacteristics activiti:collection="${reciveList}" activiti:elementVariable="reciver"
                                           isSequential="false">
            <completionCondition>${nrOfCompletedInstances/nrOfInstances ==1 }</completionCondition>
         </multiInstanceLoopCharacteristics>
         <startEvent id="startevent2" name="Start"/>
         <userTask activiti:assignee="${reciver}" activiti:exclusive="true" id="usertask6"
                   name="接收人"/>
         <endEvent id="endevent2" name="End"/>
         <sequenceFlow id="flow16" sourceRef="startevent2" targetRef="usertask6"/>
         <sequenceFlow id="flow17" sourceRef="usertask6" targetRef="endevent2"/>
      </subProcess>
      <sequenceFlow id="flow15" name="审核通过" sourceRef="exclusivegateway1" targetRef="subprocess1">
         <conditionExpression xsi:type="tFormalExpression">${reviewflag=='1'}</conditionExpression>
      </sequenceFlow>
      <sequenceFlow id="flow18" sourceRef="subprocess1" targetRef="endevent1"/>
   </process>
   <bpmndi:BPMNDiagram xmlns=""
                       documentation="background=#FFFFFF;count=1;horizontalcount=1;orientation=0;width=842.4;height=1195.2;imageableWidth=832.4;imageableHeight=1185.2;imageableX=5.0;imageableY=5.0"
                       id="Diagram-_1"
                       name="New Diagram">
      <bpmndi:BPMNPlane bpmnElement="myProcess">
         <bpmndi:BPMNShape bpmnElement="startevent1" id="Shape-startevent1">
            <omgdc:Bounds height="32.0" width="32.0" x="50.0" y="210.0"/>
            <bpmndi:BPMNLabel>
               <omgdc:Bounds height="32.0" width="32.0" x="0.0" y="0.0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape bpmnElement="endevent1" id="Shape-endevent1">
            <omgdc:Bounds height="32.0" width="32.0" x="980.0" y="216.0"/>
            <bpmndi:BPMNLabel>
               <omgdc:Bounds height="32.0" width="32.0" x="0.0" y="0.0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape bpmnElement="usertask2" id="Shape-usertask2">
            <omgdc:Bounds height="55.0" width="105.0" x="170.0" y="200.0"/>
            <bpmndi:BPMNLabel>
               <omgdc:Bounds height="55.0" width="105.0" x="0.0" y="0.0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape bpmnElement="usertask5" id="Shape-usertask5">
            <omgdc:Bounds height="55.0" width="105.0" x="360.0" y="200.0"/>
            <bpmndi:BPMNLabel>
               <omgdc:Bounds height="55.0" width="105.0" x="0.0" y="0.0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape bpmnElement="exclusivegateway1" id="Shape-exclusivegateway1"
                           isMarkerVisible="false">
            <omgdc:Bounds height="32.0" width="32.0" x="540.0" y="207.0"/>
            <bpmndi:BPMNLabel>
               <omgdc:Bounds height="32.0" width="32.0" x="0.0" y="0.0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape bpmnElement="subprocess1" id="Shape-subprocess1" isExpanded="true">
            <omgdc:Bounds height="281.0" width="235.0" x="678.0" y="87.0"/>
            <bpmndi:BPMNLabel>
               <omgdc:Bounds height="281.0" width="235.0" x="0.0" y="0.0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape bpmnElement="startevent2" id="Shape-startevent2">
            <omgdc:Bounds height="32.0" width="32.0" x="767.0" y="107.0"/>
            <bpmndi:BPMNLabel>
               <omgdc:Bounds height="32.0" width="32.0" x="0.0" y="0.0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape bpmnElement="usertask6" id="Shape-usertask6">
            <omgdc:Bounds height="55.0" width="105.0" x="732.0" y="187.0"/>
            <bpmndi:BPMNLabel>
               <omgdc:Bounds height="55.0" width="105.0" x="0.0" y="0.0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape bpmnElement="endevent2" id="Shape-endevent2">
            <omgdc:Bounds height="32.0" width="32.0" x="767.0" y="307.0"/>
            <bpmndi:BPMNLabel>
               <omgdc:Bounds height="32.0" width="32.0" x="0.0" y="0.0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNEdge bpmnElement="flow17" id="BPMNEdge_flow17" sourceElement="usertask6"
                          targetElement="endevent2">
            <omgdi:waypoint x="783.0" y="242.0"/>
            <omgdi:waypoint x="783.0" y="307.0"/>
            <bpmndi:BPMNLabel>
               <omgdc:Bounds height="-1.0" width="-1.0" x="-1.0" y="-1.0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNEdge>
         <bpmndi:BPMNEdge bpmnElement="flow18" id="BPMNEdge_flow18" sourceElement="subprocess1"
                          targetElement="endevent1">
            <omgdi:waypoint x="913.0" y="227.5"/>
            <omgdi:waypoint x="980.0" y="232.0"/>
            <bpmndi:BPMNLabel>
               <omgdc:Bounds height="-1.0" width="-1.0" x="-1.0" y="-1.0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNEdge>
         <bpmndi:BPMNEdge bpmnElement="flow13" id="BPMNEdge_flow13" sourceElement="usertask5"
                          targetElement="exclusivegateway1">
            <omgdi:waypoint x="465.0" y="227.5"/>
            <omgdi:waypoint x="540.0" y="223.0"/>
            <bpmndi:BPMNLabel>
               <omgdc:Bounds height="-1.0" width="-1.0" x="-1.0" y="-1.0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNEdge>
         <bpmndi:BPMNEdge bpmnElement="flow14" id="BPMNEdge_flow14" sourceElement="exclusivegateway1"
                          targetElement="usertask2">
            <omgdi:waypoint x="559.0" y="236.0"/>
            <omgdi:waypoint x="559.0" y="354.0"/>
            <omgdi:waypoint x="415.0" y="354.0"/>
            <omgdi:waypoint x="222.0" y="354.0"/>
            <omgdi:waypoint x="222.5" y="255.0"/>
            <bpmndi:BPMNLabel>
               <omgdc:Bounds height="14.0" width="48.0" x="341.0" y="359.0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNEdge>
         <bpmndi:BPMNEdge bpmnElement="flow15" id="BPMNEdge_flow15" sourceElement="exclusivegateway1"
                          targetElement="subprocess1">
            <omgdi:waypoint x="572.0" y="223.0"/>
            <omgdi:waypoint x="678.0" y="227.5"/>
            <bpmndi:BPMNLabel>
               <omgdc:Bounds height="14.0" width="48.0" x="580.0" y="227.0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNEdge>
         <bpmndi:BPMNEdge bpmnElement="flow16" id="BPMNEdge_flow16" sourceElement="startevent2"
                          targetElement="usertask6">
            <omgdi:waypoint x="783.0" y="139.0"/>
            <omgdi:waypoint x="783.0" y="187.0"/>
            <bpmndi:BPMNLabel>
               <omgdc:Bounds height="-1.0" width="-1.0" x="-1.0" y="-1.0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNEdge>
         <bpmndi:BPMNEdge bpmnElement="flow6" id="BPMNEdge_flow6" sourceElement="startevent1"
                          targetElement="usertask2">
            <omgdi:waypoint x="82.0" y="226.0"/>
            <omgdi:waypoint x="170.0" y="227.5"/>
            <bpmndi:BPMNLabel>
               <omgdc:Bounds height="-1.0" width="-1.0" x="-1.0" y="-1.0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNEdge>
         <bpmndi:BPMNEdge bpmnElement="flow12" id="BPMNEdge_flow12" sourceElement="usertask2"
                          targetElement="usertask5">
            <omgdi:waypoint x="275.0" y="227.5"/>
            <omgdi:waypoint x="360.0" y="227.5"/>
            <bpmndi:BPMNLabel>
               <omgdc:Bounds height="-1.0" width="-1.0" x="-1.0" y="-1.0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNEdge>
      </bpmndi:BPMNPlane>
   </bpmndi:BPMNDiagram>
</definitions>